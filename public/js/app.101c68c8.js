(function(e){function t(t){for(var i,n,r=t[0],c=t[1],l=t[2],u=0,v=[];u<r.length;u++)n=r[u],Object.prototype.hasOwnProperty.call(o,n)&&o[n]&&v.push(o[n][0]),o[n]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);d&&d(t);while(v.length)v.shift()();return s.push.apply(s,l||[]),a()}function a(){for(var e,t=0;t<s.length;t++){for(var a=s[t],i=!0,r=1;r<a.length;r++){var c=a[r];0!==o[c]&&(i=!1)}i&&(s.splice(t--,1),e=n(n.s=a[0]))}return e}var i={},o={app:0},s=[];function n(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=i,n.d=function(e,t,a){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(a,i,function(t){return e[t]}.bind(null,i));return a},n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=t,r=r.slice();for(var l=0;l<r.length;l++)t(r[l]);var d=c;s.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},1330:function(e,t,a){"use strict";a("413b")},"13d0":function(e,t,a){"use strict";a("fa22")},1663:function(e,t,a){"use strict";a("ae15")},2373:function(e,t,a){"use strict";a("8e7a")},"413b":function(e,t,a){},"49b9":function(e,t,a){},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var i=a("bc3a"),o=a.n(i),s=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-main",[a("router-view")],1)],1)},r=[],c={name:"App",components:{}},l=c,d=(a("2373"),a("2877")),u=a("6544"),v=a.n(u),m=a("7496"),h=a("f6c4"),p=Object(d["a"])(l,n,r,!1,null,"4349f7bc",null),f=p.exports;v()(p,{VApp:m["a"],VMain:h["a"]});var b=a("8c4f"),g=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"container_login"},[i("div",{staticClass:"login"},[e._m(0),i("div",{staticClass:"login_center"},[i("div",{staticClass:"row-12"},[i("img",{attrs:{src:a("c121")}}),0==e.valid?i("input",{directives:[{name:"model",rawName:"v-model",value:e.Email,expression:"Email"}],attrs:{id:"input_invalido",type:"email"},domProps:{value:e.Email},on:{input:function(t){t.target.composing||(e.Email=t.target.value)}}}):1==e.valid?i("input",{directives:[{name:"model",rawName:"v-model",value:e.Email,expression:"Email"}],attrs:{id:"input_valido",type:"email"},domProps:{value:e.Email},on:{input:function(t){t.target.composing||(e.Email=t.target.value)}}}):e._e()]),i("label",[e._v(" Insertar correo")]),i("div",{staticClass:"row-12"},[i("img",{attrs:{src:a("8959")}}),0==e.valid?i("input",{directives:[{name:"model",rawName:"v-model",value:e.Password,expression:"Password"}],attrs:{id:"input_invalido",type:"password"},domProps:{value:e.Password},on:{input:function(t){t.target.composing||(e.Password=t.target.value)}}}):1==e.valid?i("input",{directives:[{name:"model",rawName:"v-model",value:e.Password,expression:"Password"}],attrs:{id:"input_valido",type:"password"},domProps:{value:e.Password},on:{input:function(t){t.target.composing||(e.Password=t.target.value)}}}):e._e()]),i("label",[e._v("Insertar clave")])]),i("div",{staticClass:"login_buttom"},[0==e.Password.length||0==e.Email.length?i("input",{attrs:{id:"buttom_red",type:"button",value:"Enviar"},on:{click:function(t){return e.log()}}}):i("input",{attrs:{id:"buttom_green",type:"button",value:"Enviar"},on:{click:function(t){return e.login()}}})])])])},x=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login_up"},[a("h1",[a("strong",[e._v("Login")])])])}],_=a("3d20"),k=a.n(_),C={data:function(){return{valid:!0,Password:"",Email:""}},methods:{log:function(){k.a.fire({icon:"error",title:"Oops...",text:"Correo o contraseña estan vacios"})},loginInvalido:function(){this.valid=!1},login:function(){var e=this;o.a.post("usuario/login",{Email:this.Email,Password:this.Password}).then((function(t){e.$store.dispatch("setToken",t.data.token),e.$store.dispatch("setRol",t.data.usuario.Rol),e.$store.dispatch("setNombre",t.data.usuario.Nombre),e.$router.push("/home"),e.valid=!0,k.a.fire({position:"center",icon:"success",title:"Ingresado con exito!",showConfirmButton:!1,timer:1500})})).catch((function(t){k.a.fire({icon:"error",title:"Oops...",text:"Hubo un error con el correo o contraseña "}),e.loginInvalido()}))}}},I=C,$=(a("1663"),Object(d["a"])(I,g,x,!1,null,"53f9072f",null)),w=$.exports,D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("cabezera")],1)},V=[],N=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"ma-23 pa-13",attrs:{id:"fondo_background"}},[i("v-card",{attrs:{id:"cabezera_background"}},[i("v-navigation-drawer",{attrs:{id:"navigation",permanent:"","expand-on-hover":""}},[i("v-list",[i("v-list-item",{staticClass:"px-100"},[i("img",{attrs:{id:"imagen",src:a("9845")}})]),i("v-list-item",{attrs:{link:""}},[i("v-list-item-content",[i("v-list-item-title",{staticClass:"text-h6"}),i("v-list-item-subtitle",[i("ul",[i("li",[i("a",[i("strong",[e._v(" Usuario: "+e._s(e.Nombre)+" ")])])]),i("li",[i("a",[i("strong",[e._v(" Rol: "+e._s(e.Rol)+" ")])])]),i("li",[i("a",[i("router-link",{attrs:{to:{name:"login"}}},[i("v-btn",{attrs:{icon:""}},[i("v-icon",[e._v("mdi-export")])],1)],1)],1)])])])],1)],1)],1),i("v-divider"),i("v-list",{attrs:{nav:"",dense:""}},[i("v-list-item",{attrs:{link:"",value:"enviar"},on:{click:function(t){return e.usuarios()}}},[i("v-list-item-icon",[i("v-icon",[e._v("mdi-badge-account-horizontal")])],1),i("v-list-item-title",[i("strong",[e._v(" Usuarios ")])])],1),i("v-list-item",{attrs:{link:"",value:"enviar"},on:{click:function(t){return e.Visitas()}}},[i("v-list-item-icon",[i("v-icon",[e._v("mdi-account-group")])],1),i("v-list-item-title",[i("strong",[e._v(" Registrar Visitas ")])])],1),i("v-list-item",{attrs:{link:"",value:"enviar"},on:{click:function(t){return e.verVisitas()}}},[i("v-list-item-icon",[i("v-icon",[e._v("mdi-account-group")])],1),i("v-list-item-title",[i("strong",[e._v(" Ver Visitas ")])])],1),i("v-list-item",{attrs:{link:"",value:"enviar"},on:{click:function(t){return e.Dependencias()}}},[i("v-list-item-icon",[i("v-icon",[e._v("mdi-animation")])],1),i("v-list-item-title",[i("strong",[e._v(" Dependencias ")])])],1)],1)],1)],1)],1)},R=[],E={data:function(){return{Nombre:this.$store.state.Nombre,Rol:this.$store.state.Rol}},methods:{Visitas:function(){"ADMIN_ROL"==this.Rol||"REGISTRADOR_ROL"==this.Rol?this.$router.push("/visitas"):k.a.fire({icon:"error",title:"Oops...",text:"No posee los permisos para ir a esta ventana"})},Dependencias:function(){"ADMIN_ROL"==this.Rol||"REGISTRADOR_ROL"==this.Rol?this.$router.push("/dependencias"):k.a.fire({icon:"error",title:"Oops...",text:"No posee los permisos para ir a esta ventana"})},Graficas:function(){"ADMIN_ROL"==this.Rol||"REGISTRADOR_ROL"==this.Rol?this.$router.push("/graficas"):k.a.fire({icon:"error",title:"Oops...",text:"No posee los permisos para ir a esta ventana"})},usuarios:function(){"ADMIN_ROL"==this.Rol?this.$router.push("/usuarios"):k.a.fire({icon:"error",title:"Oops...",text:"No posee los permisos para ir a esta ventana"})},verVisitas:function(){"ADMIN_ROL"==this.Rol||"REGISTRADOR_ROL"==this.Rol?this.$router.push("/verVisitas"):k.a.fire({icon:"error",title:"Oops...",text:"No posee los permisos para ir a esta ventana"})}}},O=E,j=(a("1330"),a("8336")),y=a("b0af"),A=a("ce7e"),T=a("132d"),P=a("8860"),L=a("da13"),q=a("5d23"),S=a("34c3"),M=a("f774"),z=Object(d["a"])(O,N,R,!1,null,null,null),G=z.exports;v()(z,{VBtn:j["a"],VCard:y["a"],VDivider:A["a"],VIcon:T["a"],VList:P["a"],VListItem:L["a"],VListItemContent:q["a"],VListItemIcon:S["a"],VListItemSubtitle:q["b"],VListItemTitle:q["c"],VNavigationDrawer:M["a"]});var B={components:{cabezera:G},methods:{}},F=B,U=(a("9383"),Object(d["a"])(F,D,V,!1,null,null,null)),J=U.exports,Y=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"cabezera_background"}},[a("div",{attrs:{id:"espacio"}},[a("v-data-table",{attrs:{headers:e.encabezados,items:e.dependencias},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title"),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,o=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"primary",dark:""}},"v-btn",o,!1),i),[e._v(" Agregar Dependencia ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Dependencias")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:e.editedItem.Nombre,callback:function(t){e.$set(e.editedItem,"Nombre",t)},expression:"editedItem.Nombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[0==e.bd?a("v-text-field",{attrs:{label:"Descripcion"},model:{value:e.editedItem.Descripcion,callback:function(t){e.$set(e.editedItem,"Descripcion",t)},expression:"editedItem.Descripcion"}}):e._e()],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[0==e.bd?a("v-text-field",{attrs:{label:"Codigo"},model:{value:e.editedItem.Codigo,callback:function(t){e.$set(e.editedItem,"Codigo",t)},expression:"editedItem.Codigo"}}):e._e()],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:e.closeCancel}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"blue darken-1",text:""},on:{click:function(t){return e.guardar()}}},[e._v(" guardar ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card")],1)],1)]},proxy:!0},{key:"item.Opciones",fn:function(t){var i=t.item;return[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.borrar(i)}}},[e._v("mdi-delete")]),i.Estado?[a("v-icon",{attrs:{small:""},on:{click:function(t){e.activarDesactivarMostrar(2,i)}}},[e._v(" mdi-block-helper ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(t){e.activarDesactivarMostrar(1,i)}}},[e._v(" mdi-check ")])]]}}],null,!0)}),a("a",{attrs:{href:"home"}},[a("v-btn",{staticClass:"ma-2",attrs:{color:"blue darken-1",dark:""}},[a("v-icon",{attrs:{blue:"",left:""}},[e._v(" mdi-arrow-left ")]),e._v("Back ")],1)],1)],1)])},H=[],K={data:function(){return{bd:0,dependencias:[],encabezados:[{text:"Nombre",align:"start",sortable:!1,value:"Nombre"},{text:"Codigo",value:"Codigo"},{text:"Descripcion",value:"Descripcion"},{text:"Estado",value:"Estado"},{text:"Opciones",value:"Opciones",sortable:!1}],editedItem:{Nombre:"",Estado:0,Descripcion:"",Codigo:""}}},created:function(){this.listardependencias()},methods:{ejecuta:function(){window.location.href="/",console.log(this.ejecuta)},listardependencias:function(){var e=this,t={headers:{token:this.$store.state.token}};o.a.get("Dependencias",t).then((function(t){e.dependencias=t.data.dependencias})).catch((function(t){console.log(t.response),alert("no has iniciado seccion",e.ejecuta())}))},activarDesactivarMostrar:function(e,t){console.log(t);var a=t._id;if(console.log("accion"),2==e){console.log(a);var i=this,s={headers:{token:this.$store.state.token}};o.a.put("Dependencias/desactivar/".concat(a),{Estado:0},s).then((function(){i.listardependencias()})).catch((function(e){console.log(e)}))}else if(1==e){console.log(a);var n=this,r={headers:{token:this.$store.state.token}};o.a.put("Dependencias/activar/".concat(a),{Estado:1},r).then((function(){n.listardependencias()})).catch((function(e){console.log(e)}))}this.dialog=!0},limpiarCajas:function(){this.editedItem.Nombre="",this.editedItem.Estado=0,this.editedItem.Descripcion="",this.editedItem.Codigo=""},guardar:function(){var e=this;if(0==this.bd){console.log("Guardando",this.bd);var t={headers:{token:this.$store.state.token}},a=this;o.a.post("Dependencias",{Nombre:this.editedItem.Nombre,Estado:this.editedItem.Estado,Descripcion:this.editedItem.Descripcion,Codigo:this.editedItem.Codigo},t).then((function(t){console.log(t),a.listardependencias(),e.limpiarCajas()})).catch((function(e){console.log(e.response)})),this.close()}},borrar:function(e){var t=this,a=e._id;console.log(e),console.log(a);var i={headers:{token:this.$store.state.token}},s=this;o.a.delete("Dependencias/".concat(a),i).then((function(e){t.dependencias=e.data.dependencias,console.log(t.dependencias),s.listardependencias()})).catch((function(e){console.log(e.response),alert("404")}))},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeCancel:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))}}},Q=K,W=(a("e7e8"),a("99d9")),X=a("62ad"),Z=a("a523"),ee=a("8fea"),te=a("169a"),ae=a("0fd9"),ie=a("2fa4"),oe=a("8654"),se=a("71d9"),ne=a("2a7f"),re=Object(d["a"])(Q,Y,H,!1,null,"69a1953d",null),ce=re.exports;v()(re,{VBtn:j["a"],VCard:y["a"],VCardActions:W["a"],VCardText:W["c"],VCardTitle:W["d"],VCol:X["a"],VContainer:Z["a"],VDataTable:ee["a"],VDialog:te["a"],VDivider:A["a"],VIcon:T["a"],VRow:ae["a"],VSpacer:ie["a"],VTextField:oe["a"],VToolbar:se["a"],VToolbarTitle:ne["a"]});var le=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container"},[a("div",{attrs:{id:"espacio"}},[a("v-data-table",{attrs:{headers:e.encabezados,items:e.usuarios,id:"cabezera_background"},scopedSlots:e._u([{key:"top",fn:function(){return[a("v-toolbar",{attrs:{flat:""}},[a("v-toolbar-title",[e._v("Usuarios ")]),a("v-divider",{staticClass:"mx-4",attrs:{inset:"",vertical:""}}),a("v-spacer"),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var i=t.on,o=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mb-2",attrs:{color:"success darken-1",dark:""}},"v-btn",o,!1),i),[e._v(" New usuario ")])]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",{attrs:{id:"nuevo"}},[a("v-card-title",[a("span",{staticClass:"headline"},[e._v("Usuarios")])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Nombre"},model:{value:e.editedItem.Nombre,callback:function(t){e.$set(e.editedItem,"Nombre",t)},expression:"editedItem.Nombre"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[0==e.bd?a("v-text-field",{attrs:{label:"Password"},model:{value:e.editedItem.Password,callback:function(t){e.$set(e.editedItem,"Password",t)},expression:"editedItem.Password"}}):e._e()],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[0==e.bd?a("v-text-field",{attrs:{label:"Email"},model:{value:e.editedItem.Email,callback:function(t){e.$set(e.editedItem,"Email",t)},expression:"editedItem.Email"}}):e._e()],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-row",{attrs:{align:"center"}},[a("v-col",{attrs:{cols:"12"}},[0==e.bd?a("v-select",{attrs:{items:e.editedItem.Roles,"menu-props":{top:!0,offsetY:!0},label:"Role"},model:{value:e.editedItem.Rol,callback:function(t){e.$set(e.editedItem,"Rol",t)},expression:"editedItem.Rol"}}):e._e()],1)],1)],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"danger darken-1",text:""},on:{click:e.close}},[e._v(" Cancelar ")]),a("v-btn",{attrs:{color:"success darken-1",text:""},on:{click:e.guardar}},[e._v(" guardar ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Are you sure you want to delete this item?")])],1)],1)],1)]},proxy:!0},{key:"item.Opciones",fn:function(t){var i=t.item;return[a("v-icon",{attrs:{small:""},on:{click:function(t){return e.borrar(i)}}},[e._v("mdi-delete")]),i.Estado?[a("v-icon",{attrs:{small:""},on:{click:function(t){e.activarDesactivarMostrar(2,i)}}},[e._v(" mdi-block-helper ")])]:[a("v-icon",{attrs:{small:""},on:{click:function(t){e.activarDesactivarMostrar(1,i)}}},[e._v(" mdi-check ")])]]}}],null,!0)},[void 0],2)],1)])},de=[],ue=(a("a434"),{data:function(){return{bd:0,usuarios:[],encabezados:[{text:"Nombre",align:"start",sortable:!1,value:"Nombre"},{text:"Email",value:"Email"},{text:"Rol",value:"Rol"},{text:"Estado",value:"Estado"},{text:"Opciones",value:"Opciones",sortable:!1}],editedItem:{Nombre:"",Estado:0,Email:"",Rol:"",Roles:["ADMIN_ROL","REGISTRADOR_ROL"],Password:""}}},watch:{dialog:function(e){e||this.close()},dialogDelete:function(e){e||this.closeDelete()}},created:function(){this.listarusuarios()},methods:{ejecuta:function(){window.location.href="/",console.log(this.ejecuta)},listarusuarios:function(){var e=this,t={headers:{token:this.$store.state.token}};o.a.get("usuario",t).then((function(t){e.usuarios=t.data.usuarios})).catch((function(t){alert("no has iniciado",e.ejecuta()),console.log(t.response)}))},borrar:function(e){var t=this,a=e._id;console.log(a);var i={headers:{token:this.$store.state.token}},s=this;o.a.delete("usuario/".concat(a),i).then((function(e){console.log(e),t.usuario=e.data.usuario,console.log(t.usuario),s.listarusuarios()})).catch((function(e){console.log(e.response),alert("404")}))},activarDesactivarMostrar:function(e,t){console.log(t);var a=t._id;if(console.log("accion"),2==e){console.log(a);var i=this,s={headers:{token:this.$store.state.token}};o.a.put("usuario/desactivar/".concat(a),{Estado:0},s).then((function(){i.listarusuarios()})).catch((function(e){console.log(e)}))}else if(1==e){console.log(a);var n=this,r={headers:{token:this.$store.state.token}};o.a.put("usuario/activar/".concat(a),{Estado:1},r).then((function(){n.listarusuarios()})).catch((function(e){console.log(e)}))}this.dialog=!0},limpiarCajas:function(){this.editedItem.Nombre="",this.editedItem.Email="",this.editedItem.Estado=0,this.editedItem.Rol="",this.editedItem.Password=""},guardar:function(){var e=this;if(0==this.bd){console.log("Guardando",this.bd);var t={headers:{token:this.$store.state.token}},a=this;o.a.post("usuario",{Nombre:this.editedItem.Nombre,Rol:this.editedItem.Rol,Email:this.editedItem.Email,Password:this.editedItem.Password},t).then((function(t){console.log(t),a.listarusuarios(),e.limpiarCajas()})).catch((function(t){alert("no has iniciado",e.ejecuta()),console.log(t.response)}))}},editar:function(e){console.log(e),this.bd=1,this.id=e._id,this.editedItem.Nombre=e.nombre,this.editedItem.Email=e.email,this.editedItem.Rol=e.rol,this.editedItem.Password=e.password},close:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedItem=-1}))},deleteItem:function(e){this.editedItem=this.encabezados.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){this.encabezados.splice(this.editedItem,1),this.closeDelete()},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedItem=-1}))}}}),ve=ue,me=(a("7e50"),a("b974")),he=Object(d["a"])(ve,le,de,!1,null,"4ae7e558",null),pe=he.exports;v()(he,{VBtn:j["a"],VCard:y["a"],VCardActions:W["a"],VCardText:W["c"],VCardTitle:W["d"],VCol:X["a"],VContainer:Z["a"],VDataTable:ee["a"],VDialog:te["a"],VDivider:A["a"],VIcon:T["a"],VRow:ae["a"],VSelect:me["a"],VSpacer:ie["a"],VTextField:oe["a"],VToolbar:se["a"],VToolbarTitle:ne["a"]});var fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"container",attrs:{id:"cabezera_background"}},[a("div",{attrs:{id:"espacio"}},[a("form",[a("div",{attrs:{id:"espacio"}},[a("v-text-field",{attrs:{"error-messages":e.nameErrors,counter:20,label:"Nombre & apellidos",required:""},on:{input:function(t){return e.$v.Nombre.$touch()},blur:function(t){return e.$v.Nombre.$touch()}},model:{value:e.Nombre,callback:function(t){e.Nombre=t},expression:"Nombre"}}),a("v-text-field",{attrs:{"error-messages":e.item1Errors,counter:10,label:"Cedula",required:""},on:{input:function(t){return e.$v.Cedula.$touch()},blur:function(t){return e.$v.Cedula.$touch()}},model:{value:e.Cedula,callback:function(t){e.Cedula=t},expression:"Cedula"}}),a("v-text-field",{attrs:{"error-messages":e.item2Errors,counter:10,label:"Ciudad",required:""},on:{input:function(t){return e.$v.Ciudad.$touch()},blur:function(t){return e.$v.Ciudad.$touch()}},model:{value:e.Ciudad,callback:function(t){e.Ciudad=t},expression:"Ciudad"}}),a("v-text-field",{attrs:{"error-messages":e.item3Errors,counter:40,label:"Asunto",required:""},on:{input:function(t){return e.$v.Asunto.$touch()},blur:function(t){return e.$v.Asunto.$touch()}},model:{value:e.Asunto,callback:function(t){e.Asunto=t},expression:"Asunto"}}),0==e.bd?a("v-select",{attrs:{items:e.dependencias,"error-messages":e.selectErrors,label:"CodigoD","menu-props":{top:!0,offsetY:!0},required:""},model:{value:e.CodigoD,callback:function(t){e.CodigoD=t},expression:"CodigoD"}}):e._e(),a("v-btn",{staticClass:"mr-4",attrs:{color:"success darken-1"},on:{click:e.submit}},[e._v("Guardar Datos")]),a("v-btn",{attrs:{color:"danger darken-1"},on:{click:e.clear}},[e._v("Borrar")])],1)])])])},be=[],ge=(a("d81d"),a("1dce")),xe=a("b5ae"),_e={mixins:[ge["validationMixin"]],validations:{Nombre:{required:xe["required"],maxLength:Object(xe["maxLength"])(20)},Cedula:{required:xe["required"],maxLength:Object(xe["maxLength"])(10)},Asunto:{required:xe["required"],maxLength:Object(xe["maxLength"])(40)},Ciudad:{required:xe["required"],maxLength:Object(xe["maxLength"])(10)},select:{required:xe["required"]}},data:function(){return{Nombre:"",Asunto:"",Cedula:"",Ciudad:"",CodigoD:"",ruta:"",Select:null,editedItem:{dependencias:""},bd:0,visitas:[],dependencias:[]}},computed:{selectErrors:function(){var e=[];return this.$v.CodigoD?(!this.$v.CodigoD.required&&e.push("codigo es requerido"),e):e},nameErrors:function(){var e=[];return this.$v.Nombre?(!this.$v.Nombre.maxLength&&e.push("Name must be at most 10 characters long"),!this.$v.Nombre.required&&e.push("Nombre es requerido."),e):e},item1Errors:function(){var e=[];return this.$v.Cedula?(!this.$v.Cedula.maxLength&&e.push("Cedula no puede tener mas de 10 caracteres"),!this.$v.Cedula.required&&e.push("Cedula es requerido."),e):e},item2Errors:function(){var e=[];return this.$v.Ciudad?(!this.$v.Ciudad.maxLength&&e.push("Ciudad no puede tener mas de 10 caracteres"),!this.$v.Ciudad.required&&e.push("Ciudad es requerido."),e):e},item3Errors:function(){var e=[];return this.$v.Asunto?(!this.$v.Asunto.maxLength&&e.push("Asunto no puede tener mas de 20 caracteres"),!this.$v.Asunto.required&&e.push("Asunto es requerido."),e):e}},created:function(){this.selectDependencia()},methods:{ejecuta:function(){window.location.href="/",console.log(this.ejecuta)},submit:function(){var e=this;if(0==this.bd){console.log("Guardando",this.bd);var t={headers:{token:this.$store.state.token}};o.a.post("visitas",{Nombre:this.Nombre,Asunto:this.Asunto,Cedula:this.Cedula,Ciudad:this.Ciudad,CodigoD:this.CodigoD,select:this.CodigoD},t).then((function(e){console.log(e),console.log("bien ")})).catch((function(t){console.log(t.response),alert("alert no seccion",e.ejecuta())})),this.clear()}},selectDependencia:function(){var e=this,t=[],a={headers:{token:this.$store.state.token}};o.a.get("dependencias",a).then((function(a){t=a.data.dependencias,t.map((function(t){e.dependencias.push({text:t.Nombre,value:t._id})}))})).catch((function(e){console.log(e),alert("alert no seccion",this.ejecuta())}))},clear:function(){this.$v.$reset(),this.Nombre="",this.Asunto="",this.Cedula="",this.Ciudad="",this.CodigoD="",this.select=null}}},ke=_e,Ce=(a("13d0"),Object(d["a"])(ke,fe,be,!1,null,"a396c208",null)),Ie=Ce.exports;v()(Ce,{VBtn:j["a"],VSelect:me["a"],VTextField:oe["a"]});var $e=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"ex2",attrs:{id:"cabezera_background"}},[a("div",{attrs:{id:"espacio"}}),a("v-row",e._l(e.visitas,(function(t,i){return a("v-column",{key:i,staticClass:"ma-16"},[a("v-card",{staticClass:"mx-20",attrs:{"max-width":"300"}},[a("v-img",{attrs:{src:t.foto,height:"200px"}}),a("v-card-title",[e._v(" "+e._s(t.Nombre)+" ")]),a("v-card-subtitle",[e._v(" "+e._s(t.Cedula)+" ")]),a("v-card-subtitle",[e._v(" "+e._s(t.Ciudad)+" ")]),a("v-file-input",{staticClass:"inputVuetify",attrs:{"show-size":"",solo:"",label:"Foto del visitante",accept:".png"},on:{change:e.ClickImagen}}),a("v-btn",{staticClass:"mr-4",attrs:{color:"success darken-1"},on:{click:function(a){return e.insertar(t._id)}}},[e._v(" Guardar F ")])],1)],1)})),1)],1)},we=[],De=a("1da1"),Ve=(a("96cf"),{data:function(){return{imagenes:[],imagen:null,bd:0,visitas:[]}},created:function(){this.listarVisitas()},methods:{ejecuta:function(){window.location.href="/",console.log(this.ejecuta)},listarVisitas:function(){var e=this,t=this,a={headers:{token:this.$store.state.token}};o.a.get("visitas",a).then((function(e){console.log(e),t.visitas=e.data.visitas,console.log(t.visitas)})).catch((function(t){alert("no has iniciado",e.ejecuta()),console.log(t.response)}))},ClickImagen:function(e){console.log(e),this.imagen=e,console.log(this.imagen)},insertar:function(e){var t=this;return Object(De["a"])(regeneratorRuntime.mark((function a(){var i,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(e),i={headers:{token:t.$store.state.token}},s=new FormData,s.append("archivo",t.imagen),a.next=6,o.a.post("visitas/uploadcloud/".concat(e),s,i).then((function(){this.listarVisitas()})).catch((function(e){console.log(e)}));case 6:case"end":return a.stop()}}),a)})))()},mounted:function(){this.listarVisitas()}}}),Ne=Ve,Re=(a("730b"),a("23a7")),Ee=a("adda"),Oe=Object(d["a"])(Ne,$e,we,!1,null,"d0ee6a02",null),je=Oe.exports;v()(Oe,{VBtn:j["a"],VCard:y["a"],VCardSubtitle:W["b"],VCardTitle:W["d"],VFileInput:Re["a"],VImg:Ee["a"],VRow:ae["a"]});var ye=[{path:"/",name:"home",component:J},{path:"/",name:"login",component:w},{path:"/",name:"dependencias",component:ce},{path:"/",name:"usuarios",component:pe},{path:"/",name:"visitas",component:Ie},{path:"/",name:"verVisitas",component:je}],Ae=a("2f62");s["a"].use(Ae["a"]);var Te=new Ae["a"].Store({state:{token:"hola mundo",Rol:"que rol tiene",Nombre:"nombre persona"},mutations:{setToken:function(e,t){e.token=t},setRol:function(e,t){e.Rol=t},setNombre:function(e,t){e.Nombre=t}},actions:{setToken:function(e,t){e.commit("setToken",t)},setRol:function(e,t){e.commit("setRol",t)},setNombre:function(e,t){e.commit("setNombre",t)}}}),Pe=a("f309");s["a"].use(Pe["a"]);var Le=new Pe["a"]({});o.a.defaults.baseURL="https://proyecto-brp.herokuapp.com/api/",s["a"].config.productionTip=!0,s["a"].use(b["a"]);var qe=new b["a"]({mode:"history",routes:ye});new s["a"]({router:qe,store:Te,vuetify:Le,render:function(e){return e(f)}}).$mount("#app")},6632:function(e,t,a){},"730b":function(e,t,a){"use strict";a("cb16")},"7e50":function(e,t,a){"use strict";a("6632")},8959:function(e,t,a){e.exports=a.p+"img/cadado.f0fc5655.png"},"8e7a":function(e,t,a){},9383:function(e,t,a){"use strict";a("b472")},9845:function(e,t,a){e.exports=a.p+"img/sangil2.08c8018f.png"},ae15:function(e,t,a){},b472:function(e,t,a){},c121:function(e,t,a){e.exports=a.p+"img/user.3f12315d.png"},cb16:function(e,t,a){},e7e8:function(e,t,a){"use strict";a("49b9")},fa22:function(e,t,a){}});
//# sourceMappingURL=app.101c68c8.js.map